<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- thêm  -->
    <button class="btn btn-primary my-2" id="add_HoatDong">add</button>
    <div class="form_add-hoatdong container mb-5" style="display: none; position: pixed; ">
        <form action="/api/hoatdongs" method="POST">
            <div class="form-group">
                <label for="exampleInputEmail1">TenHD</label>
                <input type="name" class="form-control" id="exampleInputEmail1" name="TenHD"
                    placeholder="tên hoạt động" required>
                <label for="exampleInputEmail1">moTaHD</label>
                <input type="name" class="form-control" id="exampleInputEmail1" name="moTaHD"
                    placeholder="mô tả Hoạt Động" required>
                <label for="exampleInputEmail1">ngayGioBD</label>
                <input type="date" class="form-control" id="exampleInputEmail1" name="ngayGioBD"
                    placeholder="Ngày giờ Bắt đầu" required>
                <label for="exampleInputEmail1">ngayGioKT</label>
                <input type="date" class="form-control" id="exampleInputEmail1" name="ngayGioKT" placeholder="email" required>
                <label for="exampleInputEmail1">SLToiThieuYC</label>
                <input type="number" class="form-control" id="exampleInputEmail1" name="SLToiThieuYC"
                    placeholder="SLToiThieuYC" required>
                <label for="exampleInputEmail1">SLToiDaYC</label>
                <input type="number" class="form-control" id="exampleInputEmail1" name="SLToiDaYC"
                    placeholder="SLToiDaYC">
                <label for="exampleInputEmail1">thoiHanDK</label>
                <input type="date" class="form-control" id="exampleInputEmail1" name="thoiHanDK"
                    placeholder="thoiHanDK">
                <label for="exampleInputEmail1">trangThai</label>
                <select name="trangThai" id="exampleInputEmail1">
                    <option value="đang mời đăng ký">Đang mời đăng ký</option>
                    <option value="đã hết hạn đăng ký">đã hết hạn đăng ký</option>
                    <option value="trưởng đoàn tự hủy">trưởng đoàn tự hủy</option>
                    <option value="đã kết thúc">đã kết thúc</option>
                </select><br>
                <label for="exampleInputEmail1">maTV</label>
                <input type="name" class="form-control" id="exampleInputEmail1" name="maTV" placeholder="maTV">
                <label for="exampleInputEmail1">lyDoHuy</label>
                <input type="name" class="form-control" id="exampleInputEmail1" name="lyDoHuy" placeholder="lyDoHuy"
                    readonly="true">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="submit" class="btn btn-primary" id="close_form-HoatDong">close</button>
        </form>
    </div>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>tenHD</th>
                <th>moTaHD</th>
                <th>ngayGioBD</th>
                <th>ngayGioKT</th>
                <th>SLToiThieuYC</th>
                <th>SLToiDaYC</th>
                <th>thoiHanDK</th>
                <th>trangThai</th>
                <th>maTV</th>
                <th>lyDoHuy</th>
                <th></th>
                <th>update</th>
                <th>delete</th>
            </tr>
            <thead>
    </table>
    </thead>
    <% hoatdongs.forEach(function(hoatdong) { %>
        <table class="table">
            <tbody>
                <tr>
                    <td>
                        <%= hoatdong.tenHD %>
                    </td>
                    <td>
                        <%= hoatdong.moTaHD %>
                    </td>
                    <td>
                        <%= hoatdong.ngayGioBD %>
                    </td>
                    <td>
                        <%= hoatdong.ngayGioKT %>
                    </td>
                    <td>
                        <%= hoatdong.SLToiThieuYC %>
                    </td>
                    <td>
                        <%= hoatdong.SLToiDaYC %>
                    </td>
                    <td>
                        <%= hoatdong.thoiHanDK %>
                    </td>
                    <td>
                        <%= hoatdong.trangThai %>
                    </td>
                    <td>
                        <%= hoatdong.maTV %>
                    </td>
                    <td>
                        <%= hoatdong.lyDoHuy %>
                    </td>
                    <td></td>
                    <td>
                        <button type="button" class="btn btn-primary" data-toggle="modal"
                            data-target="#exampleModal-<%= hoatdong._id %> ">
                            Update
                        </button>
                    </td>
                    <td>
                        <form action="/api/HoatDongs/delete" method="POST">
                            <input class="d-none" value="<%= hoatdong._id %>" name="id">
                            <button class="del btn btn-danger">delete</button>
                        </form>
                    </td>
                </tr>
            </tbody>

        </table>
        <!-- Modal -->
        <div class="modal fade" id="exampleModal-<%= hoatdong._id %>" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form action="/api/HoatDongs/update/<%= hoatdong.id  %>" method="POST">
                            <div class="form-group">
                                <label for="exampleInputEmail1">TenHD</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.tenHD %>" name="tenHD" placeholder="ho và tên" required>
                                <label for="exampleInputEmail1">moTaHD</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.moTaHD %>" name="gioiTinh" placeholder="moTaHD" required>
                                <label for="exampleInputEmail1">ngayGioBD</label>
                                <input type="date" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.ngayGioBD %>" name="ngayGioBD" placeholder="ngayGioBD" required>
                                <label for="exampleInputEmail1">ngayGioKT</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.ngayGioKT %>" name="ngayGioKT" placeholder="ngayGioKT" required>
                                <label for="exampleInputEmail1">SLToiThieuYC</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.SLToiThieuYC %>" name="SLToiThieuYC" placeholder="SLToiThieuYC"
                                    required>
                                <label for="exampleInputEmail1">SLToiDaYC</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.SLToiDaYC %>" name="SLToiDaYC" placeholder="SLToiThieuYC"
                                    required>
                                <label for="exampleInputEmail1">thoiHanDK</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.thoiHanDK %>" name="thoiHanDK" placeholder="thoiHanDK" required>
                                <label for="exampleInputEmail1">
                                    trangThai
                                </label><br>
                                <select name="trangThai" id="exampleInputEmail1" required>
                                    <option value="đang mời đăng ký">Đang mời đăng ký</option>
                                    <option value="đã hết hạn đăng ký">đã hết hạn đăng ký</option>
                                    <option value="trưởng đoàn tự hủy">trưởng đoàn tự hủy</option>
                                    <option value="đã kết thúc">đã kết thúc</option>
                                </select><br>
                                <label for="exampleInputEmail1">maTV</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.maTV%>" name="maTV" placeholder="maTV" required>
                                <label for="exampleInputEmail1">lyDoHuy</label>
                                <input type="name" class="form-control" id="exampleInputEmail1"
                                    value="<%= hoatdong.lyDoHuy %> " name="lyDoHuy" placeholder="lyDoHuy">
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                            <button type="submit" class="btn btn-primary" id="close_form-HoatDong">close</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <% }) %>
            <script>
                $("#add_HoatDong").click(function (e) {
                    e.preventDefault();
                    $(".form_add-hoatdong").toggle();
                })

                $("#close_form-HoatDong").click(function (e) {
                    e.preventDefault();
                    $("#form_close-HoatDong").hide();
                })
            </script>

</body>

</html>